(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{2644:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/concepts/box",function(){return n(9151)}])},6408:function(s,e,n){"use strict";n(959),e.Z={logo:"Three3D小站",useNextSeoProps:()=>({titleTemplate:"%s",additionalLinkTags:[{rel:"icon",href:"/favicon.ico"}]}),docsRepositoryBase:"https://github.com/shuding/nextra-docs-template",footer:{text:""},search:{placeholder:"关键字搜索"},toc:{title:"目录"},feedback:{content:""},editLink:{text:""}}},9151:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p.Z}});var r=n(1527),l=n(2093),i=n(2691),o=n(6408);n(9054);var t=n(313),c=n(6484),a=n.n(c),h={src:"/_next/static/media/1.cba59ca9.gif",height:532,width:921},d={src:"/_next/static/media/第一个3d方盒子.8168c0c1.png",height:1412,width:1926,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAArklEQVR42mNABqnLVrMt27yDGcQ+d+6c/vnz55MZrl27pnzp0iVDkKAvA4NYkF+ADQMyOHv5svi1o8e1U99/lEl48zZna14FR3ZevkJkVIwOAwjcun7D6e3//7zLGBjiay5eOs4AZDMwMLDFZuXKM4DAjUvXtaftW6xR5cKguCg0X+z49RueT+/elQLJrVmzhokBBC6ev+D/+M1bFRD77vXrxtdv3pIGsV++fMkIAH6GR+wE8TAwAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6},x={src:"/_next/static/media/第一个3d方盒子-1.df338b34.png",height:1414,width:2040,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAP1BMVEUA/wEA2QAAtQAAkgAAagAAVgAAVQAANwAAIgAAHQAAGgAAFwAAEwAAEQAADwAABwAABgAABAAAAwAAAgAAAACdB/x/AAAALElEQVR42gXAhxGAIAADwNixovL7z8rFj5c0+7L55DRnVOS2DpNDVDyEWi50TRMC3tPfJb0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},k={src:"/_next/static/media/1 1.cba59ca9.gif",height:532,width:921},p=n(9181);function j(s){let e=Object.assign({p:"p",ul:"ul",li:"li",a:"a",h1:"h1",h2:"h2",pre:"pre",code:"code",span:"span",strong:"strong",h3:"h3",ol:"ol"},(0,t.ah)(),s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"今天会用一个例子，带大家来一起走一遍 Threejs 最基础的功能，我们会建一个方盒子。"}),"\n",(0,r.jsx)(e.p,{children:"通过这个例子，你会学到如何"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"创建一个场景"}),"\n",(0,r.jsx)(e.li,{children:"如何创建一个相机"}),"\n",(0,r.jsx)(e.li,{children:"如何创建一个渲染器"}),"\n",(0,r.jsx)(e.li,{children:"如何创建一个立方体"}),"\n",(0,r.jsx)(e.li,{children:"如何将立方体添加到场景中"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["先来看下最后完成的效果如下\n",(0,r.jsx)(a(),{src:h}),"\n关于怎么创建项目， 可以看上一篇文章，",(0,r.jsx)(e.a,{href:"https://mp.weixin.qq.com/s?__biz=MzIxNDI5MTc0MA==&mid=2247484594&idx=1&sn=a5f778734bc22ce9e4d8d35d8da13c39&chksm=97a880c1a0df09d72851147425145f0e0c781f505ab52c775ecbf272776106ff7ab4da0252c6&token=1906193461&lang=zh_CN#rd",children:"链接"}),"。这里我们使用 vite 来创建项目。"]}),"\n",(0,r.jsx)(e.p,{children:"在写代码之前，我们来了解一些 3D 的概念。"}),"\n",(0,r.jsx)(e.h1,{children:"基础介绍"}),"\n",(0,r.jsx)(e.h2,{id:"什么是场景",children:"什么是场景"}),"\n",(0,r.jsx)(e.p,{children:"场景可以理解成一个容器，里面可以放置很多物体，比如立方体、球体、光源等。场景是所有 3D 元素的容器，所有的 3D 元素都是放在场景中的。在 Threejs 以及其他 3D 引擎中，场景是一个很重要的概念。"}),"\n",(0,r.jsx)(e.p,{children:"在我们开始添加物体之前，我们需要先创建一个场景。很多时候，如果你想添加的物体没有在场景中显示，那么可以检查一下是不是没有将物体添加到场景中。"}),"\n",(0,r.jsx)(e.h2,{id:"为什么需要相机",children:"为什么需要相机"}),"\n",(0,r.jsx)(e.p,{children:"有了场景了，相当于有了我们的世界，但是我们还需要一样东西，去观察这个世界，这个东西就是相机。相机是用来观察场景的，如果没有相机，我们是看不到场景的。"}),"\n",(0,r.jsx)(e.p,{children:"所以相机相当于我们的眼睛，我们可以通过相机的位置、视角等属性来观察场景。"}),"\n",(0,r.jsx)(e.p,{children:"我们通过相机来观察场景，通过操作相机，通过一系列的操作，比如移动相机、旋转相机来展示我们想要的场景。"}),"\n",(0,r.jsx)(e.h2,{id:"什么是渲染器",children:"什么是渲染器"}),"\n",(0,r.jsx)(e.p,{children:"Three.js 的渲染器是用来把 3D 场景显示到网页上的工具。它的作用就像一个画家，把场景里的物体按照摄像机的角度“画”到屏幕上。最常用的是 WebGLRenderer，它利用浏览器的 WebGL 技术，让画面更快更真实。你可以通过设置渲染器，比如分辨率、是否需要平滑边缘（抗锯齿），来调整画面的效果和流畅度。简单来说，渲染器就是 Three.js 的“画笔”，帮你把 3D 世界变成能看的画面。"}),"\n",(0,r.jsx)(e.h2,{id:"渲染器和相机的关系",children:"渲染器和相机的关系"}),"\n",(0,r.jsx)(e.p,{children:"在 Three.js 中，渲染器和相机的关系非常重要。它们共同决定了 3D 场景是如何被显示到屏幕上的："}),"\n",(0,r.jsx)(e.p,{children:"相机就像人的眼睛，决定了你从哪个角度、位置和范围去看这个 3D 场景。"}),"\n",(0,r.jsx)(e.p,{children:"渲染器负责把相机“看到”的内容画到屏幕上。它会根据场景、相机的位置和角度，计算出每个物体的外观，然后显示成一个 2D 图像。"}),"\n",(0,r.jsx)(e.p,{children:"相机决定“看什么”（场景中的哪些物体、从什么角度看）。渲染器决定“怎么画”（把相机看到的东西显示在屏幕上）。"}),"\n",(0,r.jsx)(e.p,{children:"通俗地说，相机是“眼睛”，渲染器是“画手”，它们一起完成了从 3D 场景到屏幕图像的过程。没有相机，渲染器不知道该画什么；没有渲染器，相机看到的东西无法展示出来。"}),"\n",(0,r.jsx)(e.p,{children:"好了，到此为止，我们科普了一些最基础的概念。下面我们来看看如何通过代码来实现一个 3D 方盒子。"}),"\n",(0,r.jsx)(e.h1,{children:"立方体实现"}),"\n",(0,r.jsx)(e.p,{children:"在 main.js 中引入 three.js"}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsx)(e.code,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"*"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" THREE "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"three"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})})}),"\n",(0,r.jsx)(e.h2,{id:"创建场景",children:"创建场景"}),"\n",(0,r.jsx)(e.p,{children:"首先，我们需要创建一个场景："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsx)(e.code,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".Scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})})}),"\n",(0,r.jsx)(e.h2,{id:"创建相机",children:"创建相机"}),"\n",(0,r.jsx)(e.p,{children:"接下来，我们创建一个透视相机："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".PerspectiveCamera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"75"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.1"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"position"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".z "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n",(0,r.jsxs)(e.p,{children:["上面的代码含义是，创建一个透视相机，视角是 75 度，宽高比是窗口的宽高比，视锥体的近端是 0.1，远端是 1000。然后将相机的 z 坐标设置为 5，这样相机就在 z 轴上离场景 5 个单位的位置。\n",(0,r.jsx)(a(),{placeholder:"blur",src:d})]}),"\n",(0,r.jsx)(e.p,{children:"我们用一张图来理解，上面的绿色部分就是近端，蓝色部分就是远端，中间红色的球体部分就是相机的可视区域，对于最右侧的灰色的球体，相机是看不到的。"}),"\n",(0,r.jsx)(e.p,{children:"所以我们在设计相机数值，以及摆放我们物体的时候，都要考虑到这个可视区域。"}),"\n",(0,r.jsx)(e.p,{children:"视角毫无疑问，当视角越大，我们看到的东西就越多。"}),"\n",(0,r.jsx)(e.h2,{id:"创建画布元素",children:"创建画布元素"}),"\n",(0,r.jsx)(e.p,{children:"现在，我们已经有了场景和相机，接下来我们需要一个画布元素来显示场景。我们可以通过创建一个 canvas 元素并将其添加到文档中来实现："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"canvas"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".createElement"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"canvas"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"body"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".appendChild"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(canvas);"})]})]})}),"\n",(0,r.jsx)(e.h2,{id:"创建渲染器",children:"创建渲染器"}),"\n",(0,r.jsx)(e.p,{children:"接下来，我们创建一个 WebGL 渲染器，并设置其大小："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".WebGLRenderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ canvas });"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setSize"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight);"})]})]})}),"\n",(0,r.jsx)(e.h2,{id:"处理窗口大小调整",children:"处理窗口大小调整"}),"\n",(0,r.jsx)(e.p,{children:"对于上面的代码，一旦我们调整窗口大小，画布的大小就不会改变，所以我们需要在窗口大小调整时更新渲染器和相机。"}),"\n",(0,r.jsx)(e.p,{children:"为了在窗口大小调整时更新渲染器和相机，我们添加一个事件监听器 resize，如下所示："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resize"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" () "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setSize"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight);"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".aspect "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight;"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".updateProjectionMatrix"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})})]})}),"\n",(0,r.jsx)(e.p,{children:"这段代码就是说，当我们调整窗口大小的时候，我们需要重新设置渲染器的大小，然后重新设置相机的宽高比，最后更新相机的投影矩阵。\n这里设置的大小就是浏览器的大小，也就是 window.innerWidth 和 window.innerHeight。"}),"\n",(0,r.jsx)(e.h2,{id:"创建几何体",children:"创建几何体"}),"\n",(0,r.jsx)(e.p,{children:"到此为止，我们已经有了基础的东西了，接下来开始上我们的主角。"}),"\n",(0,r.jsx)(e.p,{children:"我们创建一个立方体的几何体："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsx)(e.code,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"geometry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".BoxGeometry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})})}),"\n",(0,r.jsx)(e.h2,{id:"创建材质",children:"创建材质"}),"\n",(0,r.jsx)(e.p,{children:"有了立方体，但是它是没有颜色的，我们需要给它添加一个材质，这样它才能有颜色。"}),"\n",(0,r.jsx)(e.p,{children:"我们创建一个基本材质，并设置其颜色为绿色，这里的颜色使用十六进制表示："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsx)(e.code,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"material"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".MeshBasicMaterial"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ color"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0x00ff00"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" });"})]})})}),"\n",(0,r.jsx)(e.h2,{id:"创建网格",children:"创建网格"}),"\n",(0,r.jsxs)(e.p,{children:["在 Three.js 中，网格（Mesh） 是用于渲染场景中可见对象的一个核心概念。它是一个容器对象，将三维物体的",(0,r.jsx)(e.strong,{children:"几何形状（Geometry）和其表面的材质（Material）"})," 结合在一起，创建一个可渲染的对象。"]}),"\n",(0,r.jsx)(e.h3,{id:"网格的构成",children:"网格的构成："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"几何体（Geometry）：定义了物体的形状，例如球体、立方体、平面等。"}),"\n",(0,r.jsx)(e.li,{children:"材质（Material）：定义了物体的外观，包括颜色、光泽、纹理等。"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"网格的作用",children:"网格的作用"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"呈现三维物体\n网格是场景中可见物体的基础。通过网格，将几何体和材质绑定在一起，可以在场景中渲染出各种形状和外观的三维物体。"}),"\n",(0,r.jsxs)(e.li,{children:["管理物体的行为\n网格提供了位置、旋转、缩放等属性，可以控制物体在场景中的显示位置、朝向和大小：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"位置（position）：指定网格在三维空间中的位置。"}),"\n",(0,r.jsx)(e.li,{children:"旋转（rotation）：设置网格的旋转角度。"}),"\n",(0,r.jsx)(e.li,{children:"缩放（scale）：调整网格的大小。"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"与光线交互\n当使用支持光照的材质时（如 MeshStandardMaterial），网格会响应场景中的光照变化，使得物体看起来更加真实。"}),"\n",(0,r.jsx)(e.li,{children:"组合复杂对象\n通过将多个网格组合在一起，可以创建复杂的物体。例如，一个机器人模型可以由多个部件（头、手、脚）组成，每个部件是一个独立的网格。"}),"\n",(0,r.jsx)(e.li,{children:"实现动画和交互\n网格对象可以结合 Three.js 的动画功能（如 Object3D 的更新），实现动态效果，例如旋转的立方体、跳动的球等。此外，网格还可以用于响应用户交互（如鼠标点击或拖拽）。"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"可以把网格想象成一件衣服："}),"\n几何体（Geometry） 是衣服的版型或剪裁，决定衣服的形状。\n材质（Material） 是衣服的颜色、质地，决定衣服看起来是红色丝绸还是黑色棉布。\n网格（Mesh） 则是穿好衣服的成品，真正展示在场景中的对象。"]}),"\n",(0,r.jsx)(e.p,{children:"然后，我们将几何体和材质组合成一个网格，并将其添加到场景中："}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"cube"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".Mesh"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(geometry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" material);"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".add"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(cube);"})]})]})}),"\n",(0,r.jsx)(e.p,{children:"网格是一个重要的概念，在 Three.js 中，网格是由几何体和材质组成的。几何体定义了网格的形状，材质定义了网格的外观。"}),"\n",(0,r.jsx)(e.h2,{id:"渲染",children:"渲染"}),"\n",(0,r.jsx)(e.p,{children:"通过上面的代码，我们已经有了场景，相机，渲染器，立方体，接下来我们需要渲染场景，将所有的东西显示到屏幕上："}),"\n",(0,r.jsx)(e.pre,{"data-language":"text","data-theme":"default",children:(0,r.jsx)(e.code,{"data-language":"text","data-theme":"default",children:(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"renderer.render(scene, camera);"})})})}),"\n",(0,r.jsxs)(e.p,{children:["到此为止，我们可以在界面上看一个绿色不动的立方体了。\n",(0,r.jsx)(a(),{placeholder:"blur",src:x})]}),"\n",(0,r.jsx)(e.h2,{id:"动画循环",children:"动画循环"}),"\n",(0,r.jsx)(e.p,{children:"在说动画之前，我们先简单了解下动画的一些概念。"}),"\n",(0,r.jsx)(e.p,{children:"动画其实就是让东西动起来的过程，通过快速连续显示一系列略有不同的静态画面来模拟物体运动的效果。比如，一个小球从左边滚到右边，这就是动画。为了实现这个效果，我们需要不断改变小球的位置，让它一点一点地移动，看起来就像在滚动一样。"}),"\n",(0,r.jsxs)(e.p,{children:["在 ",(0,r.jsx)(e.strong,{children:"Three.js"})," 中，动画就是通过不停地更新物体的各种属性（比如位置、大小、角度等），然后把这些变化显示在屏幕上，从而让人觉得它们在动。"]}),"\n",(0,r.jsx)(e.h3,{id:"动画的基本要素",children:"动画的基本要素"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"时间"}),"：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"动画本质上是随时间变化的视觉效果。时间在动画中起到决定性作用，控制着变化的速度和节奏。"}),"\n",(0,r.jsxs)(e.li,{children:["在 Three.js 中，通常通过每帧的时间间隔 (",(0,r.jsx)(e.code,{children:"delta time"}),") 来平滑地更新动画。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"关键帧 (Keyframes)"}),"：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"关键帧是描述动画中某一特定时间点状态的数据集合。"}),"\n",(0,r.jsx)(e.li,{children:"通过插值算法计算关键帧之间的过渡效果（称为补间），使动画更流畅。"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"插值 (Interpolation)"}),"：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"动画系统通过插值算法计算关键帧之间的变化。例如，从位置 (0, 0, 0) 平滑移动到位置 (10, 10, 10)。"}),"\n",(0,r.jsx)(e.li,{children:"常用插值方式包括线性插值（线性变化）和缓动插值（如加速或减速效果）。"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"帧率 (Frame Rate)"}),"：","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["帧率是动画每秒渲染的帧数（FPS）。高帧率能带来更流畅的动画体验，Three.js 默认帧率由 ",(0,r.jsx)(e.code,{children:"requestAnimationFrame"})," 控制，与浏览器刷新率一致（通常为 60 FPS）。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"通俗一点理解就是我们每次变化一次物体的属性（位置，属性等），然后拍一次照，将这些照片连续播放，就是动画了。"}),"\n",(0,r.jsx)(e.p,{children:"通常，我们会使用 requestAnimationFrame 函数来创建一个动画循环，这样可以确保动画在浏览器的每一帧都会更新。"}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"animate"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"requestAnimationFrame"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(animate);"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"cube"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"rotation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".x "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.01"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"cube"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"rotation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".y "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.01"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".render"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" camera);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"animate"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})]})}),"\n",(0,r.jsx)(e.p,{children:"上面的代码中，我们调用第一次调用 animate 函数，然后在 animate 函数中，我们调用 requestAnimationFrame 函数。requestAnimationFrame 函数会在浏览器下一次重绘之前调用回调函数，大概是每秒 60 次。也就是 1/60 秒调用一次 animate 函数。"}),"\n",(0,r.jsx)(e.p,{children:"然后，每次执行 animate 函数的时候，我们都会让立方体绕 x 和 y 轴旋转 0.01 弧度。"}),"\n",(0,r.jsx)(e.p,{children:"最后执行 renderer.render(scene, camera) 函数，将变化后的场景渲染到屏幕上。"}),"\n",(0,r.jsxs)(e.p,{children:["现在，你已经完成了一个简单的 Three.js 场景设置，并且可以看到一个旋转的绿色立方体！\n",(0,r.jsx)(a(),{src:k})]}),"\n",(0,r.jsx)(e.h1,{children:"完整代码"}),"\n",(0,r.jsx)(e.pre,{"data-language":"javascript","data-theme":"default",children:(0,r.jsxs)(e.code,{"data-language":"javascript","data-theme":"default",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"*"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" THREE "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"three"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".Scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".PerspectiveCamera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"75"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.1"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"position"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".z "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"canvas"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".createElement"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"canvas"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"body"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".appendChild"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(canvas);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".WebGLRenderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ canvas });"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setSize"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resize"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" () "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setSize"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight);"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".aspect "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerWidth "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".innerHeight;"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"camera"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".updateProjectionMatrix"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"geometry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".BoxGeometry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"material"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".MeshBasicMaterial"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ color"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0x00ff00"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" });"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"cube"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"THREE"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".Mesh"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(geometry"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" material);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".add"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(cube);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"animate"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"requestAnimationFrame"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(animate);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"cube"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"rotation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".x "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.01"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"cube"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"rotation"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".y "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0.01"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"renderer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".render"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(scene"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" camera);"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"animate"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})]})})]})}s=n.hmd(s),(0,l.j)({Content:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.ah)(),s.components);return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(j,{...s})}):j(s)},nextraLayout:i.ZP,hot:s.hot,pageOpts:{filePath:"pages/concepts/box.md",route:"/concepts/box",frontMatter:{title:"第一个案例：创建一个立方体",order:3},pageMap:[{kind:"Meta",data:{index:{title:"首页",type:"page",theme:{sidebar:!1,toc:!0,pagination:!1,layout:"full",typesetting:"article"}},concepts:{title:"教程",type:"page"},examples:{title:"案例",type:"page"}}},{kind:"Folder",name:"concepts",route:"/concepts",children:[{kind:"Meta",data:{introduce:"什么是web图形学",init:"搭建 threejs 的环境",box:"第一个案例：创建一个立方体"}},{kind:"MdxPage",name:"box",route:"/concepts/box",frontMatter:{title:"第一个案例：创建一个立方体",order:3}},{kind:"MdxPage",name:"init",route:"/concepts/init",frontMatter:{title:"搭建 threejs 的环境"}},{kind:"MdxPage",name:"introduce",route:"/concepts/introduce",frontMatter:{title:"什么是web图形学",order:2}}]},{kind:"Folder",name:"examples",route:"/examples",children:[{kind:"MdxPage",name:"star",route:"/examples/star",frontMatter:{title:"太阳系网站"}},{kind:"Meta",data:{star:"太阳系网站"}}]},{kind:"MdxPage",name:"index",route:"/",frontMatter:{title:"Three.js"}}],headings:[{depth:1,value:"基础介绍",id:"基础介绍"},{depth:2,value:"什么是场景",id:"什么是场景"},{depth:2,value:"为什么需要相机",id:"为什么需要相机"},{depth:2,value:"什么是渲染器",id:"什么是渲染器"},{depth:2,value:"渲染器和相机的关系",id:"渲染器和相机的关系"},{depth:1,value:"立方体实现",id:"立方体实现"},{depth:2,value:"创建场景",id:"创建场景"},{depth:2,value:"创建相机",id:"创建相机"},{depth:2,value:"创建画布元素",id:"创建画布元素"},{depth:2,value:"创建渲染器",id:"创建渲染器"},{depth:2,value:"处理窗口大小调整",id:"处理窗口大小调整"},{depth:2,value:"创建几何体",id:"创建几何体"},{depth:2,value:"创建材质",id:"创建材质"},{depth:2,value:"创建网格",id:"创建网格"},{depth:3,value:"网格的构成：",id:"网格的构成"},{depth:3,value:"网格的作用",id:"网格的作用"},{depth:2,value:"渲染",id:"渲染"},{depth:2,value:"动画循环",id:"动画循环"},{depth:3,value:"动画的基本要素",id:"动画的基本要素"},{depth:1,value:"完整代码",id:"完整代码"}],timestamp:1732461256e3,flexsearch:{codeblocks:!0},title:"第一个案例：创建一个立方体"},themeConfig:o.Z,pageNextRoute:"/concepts/box",pageOptsChecksum:void 0,dynamicMetaModules:[]})}},function(s){s.O(0,[774,311,888,179],function(){return s(s.s=2644)}),_N_E=s.O()}]);